[["methods.html", "Chapter 4 Methods 4.1 Geographic area 4.2 ACS constraint tables 4.3 PUMS data 4.4 Bring into the CO model 4.5 Exporting from the CO model", " Chapter 4 Methods To generate synthetic populations for each Public Use Microdata Area (PUMA) contained within the Mystic River Watershed area, we used a combination of coding languages (R version 4.2.2 (2022-10-31) and Fortran) and a combination of datasets to generate PUMA-specific constraint tables. Note that the geographic resolution used for these methods is the census tract level. Figure 4.1: Using PUMA and ACS to Generate a Synthetic Population Obtaining the datasets required: Creating lists of census tracts located in each of the 10 PUMAs using R Pulling ACS census tract data for each of the 10 PUMA sets of census tracts using R Pulling the Public Use Microdata Samples for each PUMA, including person and household variables The datasets are then cleaned: ACS dataset are cleaned and combined in R (with separate runs for each PUMA) PUMS data is cleaned and combined in R (with separate runs for each PUMA) N.B. (1) and (2) above generate output textfiles which can then be read into and implemented in the CO model, which is written in Fortran. Update a few additional tables: Constraining tables information textfile. This file is also an output file with parameters used to reflect different ancestry bins by PUMA (NOTE: FJBI still confused by this). Control parameters file with PUMA name, number of constraint cells for that PUMA, and row below (number of constraint cells x 10). Run with CO_BU, the executable created by compiling Fortran code. Read the resulting output from the CO work using R. 4.1 Geographic area There are 21 cities and towns included in the Mystic River Watershed area: Burlington Lexington Belmont Watertown Arlington Winchester Woburn Reading Stoneham Medford Somerville Cambridge Boston (East Boston, Charlestown) Everett Malden Melrose Wakefield Chelsea Revere Winthrop Wilmington 4.2 ACS constraint tables ACS 5-year (2021) detailed estimates tables for Massachusetts census tracts were obtained. 4.2.1 Race/Ethnicity B04006 People Reporting Ancestry Collapsed by town/city: all ancestry groups with more than 1% of the population represented are retained, those with less than 1% are collapsed to ‘other’ B03001 Hispanic or Latino by Specific Origin Note that ACS 5-year (2021) detailed estimates tables include People Reporting Single Ancestry, People Reporting Multiple Ancestry, and a combined table of both - People Reporting Ancestry (B04006, used here). In order to approximate the first-ancestry reported, as this is the ancestry included in the PUMS (see section below), we did some re-weighting of the B04006 table variables. In brief, this method was as follows: For a given PUMA (Public Use Microdata Area) in the set of 10 included PUMAs, and for each census tract within that PUMA, we re-weight all ancestry variables by proceeding across columns. If true total \\(= total_{true}\\) and total with multiple ancestries \\(= total_{obs}\\), and observed population in a given ancestry column for that row \\(= Z_{obs}\\), then the re-weighted \\(Z_{rw}\\) is \\[ Z_{rw} = \\frac{Z}{\\frac{total_{true}}{total_{obs}}} \\] To round to whole units of persons, we use a probabilistic coin-toss methodology: Let the probability of rounding up be \\(mod(Z_{rw},1)\\). Using the ‘set.seed()’ function in R, generate a random number, \\(P\\), between 0 and 1. Then, the rounded number is: \\[ Z_{rw-integer} = Z_{rw}-mod(Z_{rw},1)+P. \\] This is helpful, except when the new total, \\(total_{new}\\) no longer equals \\(total_{true}\\).To amend this, we apply a ‘fudge factor’: Rank all ancestry columns based on \\(Z_{rw_integer}\\). Based on the difference between \\(total_{true}\\) and \\(total_{new}\\), we adjust the data as needed: If \\(total_{new}-total_{true} = 0\\), then do nothing. If \\(total_{new}-total_{true} = total_{diff} &gt; 0\\), remove 1 from each of the top \\(n = total_{diff}\\) ranked ancestries. If \\(total_{new}-total_{true} = total_{diff} &lt; 0\\), add 1 to each of the top \\(n = total_{diff}\\) ranked ancestries. We keep ancestry variables where the proportion of the PUMA of that background equals or exceeds 1%. This means different ancestry variables were included for different PUMAs. The following table provides the list of included ancestries by PUMA. Table 4.1: B04006 and B03001 Variables by PUMA PUMA Ancestry Variables Included 00503 American, Armenian, English, European, French except Basque , French Canadian, German, Greek, Irish, Italian, Polish, Russian, Scottish, Unclassified or not reported, Puerto Rican, Cuban, Dominican: Dominican Republic, Central American: Costa Rican, Central American: Guatemalan, Central American: Honduran, Central American: Nicaraguan, Central American: Panamanian, Central American: Salvadoran, South American: Argentinean, South American: Bolivian, South American: Chilean, South American: Colombian, South American: Ecuadorian, South American: Peruvian, South American: Uruguayan, South American: Venezuelan, Other Hispanic or Latino, other 00505 American, Armenian, Eastern European, English, European, French except Basque , French Canadian, German, Greek, Irish, Italian, Polish, Russian, Scottish, Swedish, Unclassified or not reported, Puerto Rican, Cuban, Dominican: Dominican Republic, Central American: Costa Rican, Central American: Guatemalan, Central American: Honduran, Central American: Nicaraguan, Central American: Panamanian, Central American: Salvadoran, South American: Argentinean, South American: Bolivian, South American: Chilean, South American: Colombian, South American: Ecuadorian, South American: Peruvian, South American: Uruguayan, South American: Venezuelan, South American: Other South American, Other Hispanic or Latino, other 00506 American, British, Eastern European, English, European, French except Basque , German, Irish, Italian, Polish, Portuguese, Russian, Scottish, Subsaharan African: Ethiopian, Swedish, West Indian except Hispanic groups: Haitian, Unclassified or not reported, Puerto Rican, Cuban, Dominican: Dominican Republic, Central American: Guatemalan, Central American: Honduran, Central American: Nicaraguan, Central American: Panamanian, Central American: Salvadoran, Central American: Other Central American, South American: Argentinean, South American: Bolivian, South American: Chilean, South American: Colombian, South American: Ecuadorian, South American: Peruvian, South American: Uruguayan, South American: Venezuelan, Other Hispanic or Latino, other 00507 American, Brazilian, English, European, French except Basque , French Canadian, German, Irish, Italian, Polish, Portuguese, Russian, West Indian except Hispanic groups: Haitian, Unclassified or not reported, Puerto Rican, Cuban, Dominican: Dominican Republic, Central American: Costa Rican, Central American: Guatemalan, Central American: Honduran, Central American: Panamanian, Central American: Salvadoran, Central American: Other Central American, South American: Argentinean, South American: Bolivian, South American: Chilean, South American: Colombian, South American: Ecuadorian, South American: Paraguayan, South American: Peruvian, South American: Venezuelan, South American: Other South American, Other Hispanic or Latino, other 00508 American, Brazilian, English, French except Basque , French Canadian, German, Irish, Italian, Polish, Portuguese, Russian, Scottish, West Indian except Hispanic groups: Haitian, Unclassified or not reported, Puerto Rican, Cuban, Dominican: Dominican Republic, Central American: Costa Rican, Central American: Guatemalan, Central American: Honduran, Central American: Panamanian, Central American: Salvadoran, South American: Argentinean, South American: Bolivian, South American: Chilean, South American: Colombian, South American: Ecuadorian, South American: Peruvian, South American: Venezuelan, Other Hispanic or Latino, other 01000 American, English, French except Basque , French Canadian, German, Greek, Irish, Italian, Polish, Portuguese, Russian, Scottish, Swedish, Unclassified or not reported, Puerto Rican, Cuban, Dominican: Dominican Republic, Central American: Costa Rican, Central American: Guatemalan, Central American: Honduran, Central American: Nicaraguan, Central American: Panamanian, Central American: Salvadoran, South American: Argentinean, South American: Chilean, South American: Colombian, South American: Ecuadorian, South American: Peruvian, South American: Venezuelan, Other Hispanic or Latino, other 01300 American, English, French except Basque , French Canadian, German, Greek, Irish, Italian, Polish, Portuguese, Scottish, Swedish, Unclassified or not reported, Puerto Rican, Cuban, Dominican: Dominican Republic, Central American: Costa Rican, Central American: Guatemalan, Central American: Honduran, Central American: Nicaraguan, Central American: Panamanian, Central American: Salvadoran, South American: Argentinean, South American: Chilean, South American: Colombian, South American: Ecuadorian, South American: Paraguayan, South American: Venezuelan, Other Hispanic or Latino, other 02800 American, English, French except Basque , French Canadian, German, Greek, Irish, Italian, Polish, Portuguese, Scottish, Swedish, Unclassified or not reported, Puerto Rican, Cuban, Dominican: Dominican Republic, Central American: Costa Rican, Central American: Guatemalan, Central American: Honduran, Central American: Nicaraguan, Central American: Panamanian, Central American: Salvadoran, South American: Argentinean, South American: Chilean, South American: Colombian, South American: Ecuadorian, South American: Peruvian, South American: Venezuelan, Other Hispanic or Latino, other 03302 American, English, European, French except Basque , French Canadian, German, Irish, Italian, Polish, Russian, Scottish, Unclassified or not reported, Puerto Rican, Cuban, Dominican: Dominican Republic, Central American: Costa Rican, Central American: Guatemalan, Central American: Honduran, Central American: Nicaraguan, Central American: Salvadoran, Central American: Other Central American, South American: Argentinean, South American: Bolivian, South American: Colombian, South American: Ecuadorian, South American: Peruvian, South American: Venezuelan, Other Hispanic or Latino, other 03306 American, Arab: Moroccan, Brazilian, English, German, Irish, Italian, Polish, Portuguese, Unclassified or not reported, Puerto Rican, Cuban, Dominican: Dominican Republic, Central American: Costa Rican, Central American: Guatemalan, Central American: Honduran, Central American: Nicaraguan, Central American: Panamanian, Central American: Salvadoran, Central American: Other Central American, South American: Argentinean, South American: Bolivian, South American: Chilean, South American: Colombian, South American: Ecuadorian, South American: Peruvian, South American: Venezuelan, Other Hispanic or Latino, other 4.2.2 Sex and Age B01001 Sex by Age Table 4.2: B01001 Variables Age Categories &lt;18 18-24 25-34 45-64 65+ 4.2.3 Education B15001 Sex by educational attainment for the population 18 years and over Table 4.3: B15001 Variables Education Categories Below 18 years old Less than 9th grade 9th to 12th grade no diploma High school graduate GED or alternative Some college no degree Associate degree Bachelor degree Graduate or professional degree 4.2.4 Householder Age and Household Income B19307 Age of householder by household income in the past 12 months (2021 inflation-adjusted dollars) 4.2.5 Householder Age and Tenure B25007 Tenure by Age of Householder 4.3 PUMS data ACS 5-year (2017-2021) Public Use Microdata Sample (PUMS) files for person data and for household data. These data sample approximately 5% of individual responses to the ACS. Full documentation on this data is provided in the PUMS User Guide. We have downloaded the PUMS data at the highest spatial resolution available: PUMA (Public Use Microdata Area), geographic units developed in the Decennial Census (here, 2010) of approximately 100,000 people per PUMA. ## Rows: 8 Columns: 2 ## ── Column specification ──────────────────────────────────────────────────────── ## Delimiter: &quot;,&quot; ## chr (2): Variable, Explanation ## ## ℹ Use `spec()` to retrieve the full column specification for this data. ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message. ## Rows: 4 Columns: 2 ## ── Column specification ──────────────────────────────────────────────────────── ## Delimiter: &quot;,&quot; ## chr (2): Variable, Explanation ## ## ℹ Use `spec()` to retrieve the full column specification for this data. ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message. Table 4.4: Relevant PUMS Person Variables Variable Explanation AGEP Age SEX Sex ANC1P Ancestry SCHL Educational Status RELP Is householder RAC1P Race HISP Hispanic/Non-Hispanic ID Identification number Table 4.4: Relevant PUMS Household Variables Variable Explanation SERIALNO serial number of each house TEN tenure (owned/rented?) ADJINC adjusted household income NP number of people in house 4.4 Bring into the CO model 4.4.1 Phase 1: with replacement This we will do for basic demographics, the 13 characteristics as before 4.4.2 Phase 2: without replacement This we will do once we have the housing data Jon shared 4.5 Exporting from the CO model "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
